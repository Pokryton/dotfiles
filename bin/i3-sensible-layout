#!/usr/bin/env python3
#
# Splits the current window into a stacked or tabbed layout.

from i3ipc import Connection
import os
import sys

i3 = Connection()
focused = i3.get_tree().find_focused()

# If the layout was already tabbed or stacked, don't do anything
layout = focused.parent.layout
if layout == "splith":
    focused.command("split v")
    focused.command("layout stacking")
elif layout == "splitv":
    focused.command("split h")
    focused.command("layout tabbed")

if len(sys.argv) > 1:
    os.execvp(sys.argv[1], sys.argv[1:])
